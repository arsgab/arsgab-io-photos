{% extends "base.html" %}

{% block page_subheader %}
  <p>Photos by Arseny Gabdullin.<br>Shot on iPhone.</p>
{% endblock %}

{% block content %}
  <ul data-list-type="tiles">
  {% for article in articles %}<li
    data-list-item="{{ article.slug }}"
    style="--delay: {{ round(0.1 * loop.index0, 2) }}s"
  >
  {% set cover = picture(
    article.cover,
    max_width=300, breakpoints=[300], loading=('lazy' if loop.index > 1 else 'eager'),
    height=600, gravity='so', rt='fill'
  ) if article.cover else '' %}
  {% set color = article.color or 'white' %}
    <article style="--text-color: {{ color }}; --spot-angle: {{ random(-90, 90) }}deg">
      {{ cover }}
      <h2><a href="{{ article.url }}"><b>{{ article.title }}</b></a></h2>
      <time datetime="{{ article.date|strftime('%Y-%m-%d') }}">{{ article.date|strftime('%Y') }}</time>
    </article>
  </li>{% endfor %}
  </ul>
{% endblock %}

{% block footer %}
  <footer role="contentinfo" data-columned>
    <a href="https://github.com/arsgab/photos.arsgab.io" target="_blank" rel="noopener">Source code</a>
  </footer>
{% endblock %}
